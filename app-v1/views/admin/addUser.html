<div class="modal-header">
  <h3 class="modal-title">Add a new user</h3>
</div>


<div class="modal-body" >

  <!-- add user FORM -->
  <form ng-submit="submitAddUserForm()" id="add-user-form" class="form-signin" name="adduser" ng-controller="CreateUserCtrl">
    <!--
      <h2 class="form-signin-heading">Create an account</h2>
      -->
    <div class="row-fluid">

      <!-- N A M E -->

      <!-- checking whether the form "signup" with the "name" property is both $invalid AND $dirty.  If it is
      insert the "has-error" class on the input field (i.e. insert a red border around the input field)
      -->
      <div class="control-group form-group col-md-12"
           ng-class="{'has-error':adduser.name.$invalid &&
                                adduser.name.$dirty}"> <!-- dirty = user has already interacted with the form -->
        <label>Full name</label> <!-- form-group for optimum spacing -->

        <!-- For this input field make it required, and have a max length of 25 -->
        <input type="text" class="form-control" placeholder="e.g. Nikola Tesla" name="name" ng-model="addUserForm.name" ng-maxlength="50" required>

        <!-- Also, if signup.name.$dirty is true, show the message depending upon the particular properties truthiness (e.g. required
        and/or maxlength) -->
            <span class="help-block has-error" ng-if="adduser.name.$dirty">
              <span ng-show="adduser.name.$error.required">Name is required.</span>
              <span ng-show="adduser.name.$error.maxlength">The name cannot be more than 50 characters.</span>
            </span>
      </div>

      <!-- U S E R  R O L E -->
      <div class="control-group form-group col-md-12"
           ng-class="{'has-error':adduser.title.$invalid &&
                                  adduser.title.$dirty}">
        <label>User Role</label>



          <!-- dropdown button with the available user roles -->
          <!--
          <div class="btn-group col-md-3" ng-model="addUserForm.title" dropdown keyboard-nav>
            <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" dropdown-toggle>
              Select Role <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="simple-btn-keyboard-nav">
              <li ng-repeat="role in userRoles">
                <a href>{{role}}</a>
              </li>
            </ul>
          </div>
          -->

          <!-- disabled input text -->
          <!--
          <div class="col-md-9">
            <input type="text" class="form-control" placeholder="e.g. Nurse" name="title" ng-maxlength="50" required >
                <span class="help-block has-error" ng-if="adduser.title.$dirty">
                  <span ng-show="adduser.title.$error.required">Title is required.</span>
                  <span ng-show="adduser.title.$error.maxlength">The name cannot be more than 50 characters.</span>
                </span>
          </div>
          -->

          <div class="input-group">
            <input type="text" class="form-control" ng-model="addUserForm.title" >
            <div class="input-group-btn" >

              <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select Role <span class="caret"></span></button>

              <ul class="dropdown-menu dropdown-menu-right">
                <li ng-repeat="role in userRolesOptions">
                  <a href>{{role}}</a>
                </li>
              </ul>

            </div>
          </div>

      </div>


      <!-- E M A I L -->

      <div class="control-group form-group col-md-12"
           ng-class="{'has-error':addUserForm.email.$invalid &&
                                addUserForm.email.$dirty}">
        <label>Email address</label>
        <input type="email" class="form-control" placeholder="nikola@tesla.com" name="email" ng-model="addUserForm.email" required >
            <span class="help-block has-error" ng-if="adduser.email.$dirty">
              <span ng-show="adduser.email.$error.required">Email address is required.</span>
              <span ng-show="adduser.email.$error.email">Not a valid email address.</span>
            </span>
      </div>

      <!-- P A S S W O R D -->

      <div class="control-group form-group col-md-12"
           ng-class="{'has-error':adduser.password.$invalid &&
                                adduser.password.$dirty}">
        <label>Choose a password</label>
        <!-- Added the compareTo directive that compares the passowrds -->
        <input type="password" class="form-control" placeholder="at least 6 characters" name="password" ng-model="addUserForm.password" id="password" required ng-minlength="6" compare-to="addUserForm.confirmPassword" >
            <span class="help-block has-error" ng-if="adduser.password.$dirty">
              <span ng-show="adduser.password.$error.required">Password is required.</span>
              <span ng-show="adduser.password.$error.minlength">Password must be at least 6 characters.</span>
            </span>
      </div>

      <!-- C O N F I R M  P A S S W O R D -->

      <div class="control-group form-group col-md-12">
        <label>Re-enter password</label>
        <input type="password" class="form-control" placeholder="one more time" name="confirmation" ng-model="addUserForm.confirmPassword" required>
            <span class="help-block has-error" ng-if="adduser.confirmation.$dirty">
              <span ng-show="adduser.password.$error.compareTo">Password must match.</span>
              <span ng-show="adduser.confirmation.$error.required">Confirmation password is required.</span>
            </span>
      </div>
    </div>

    <br/>



    <!-- Disable add button until the form has no errors -->
    <button class="btn btn-primary btn-lg btn-block" type="submit" ng-disabled="adduser.$invalid">
      <span ng-show="!addUserForm.loading">Create Account</span>
      <span class="overlord-loading-spinner fa fa-spinner" ng-show="addUserForm.loading" ></span>
      <span ng-show="addUserForm.loading">Preparing your new account...</span>
    </button>

    <!-- Cross-Site Request Forgery during authentication-->



  </form>

</div>

<div class="modal-footer">

</div>
